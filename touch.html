<html style="overflow:hidden; user-select:none;">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
</head>
<body>
<script src="touch.js"></script>
<script src="image.js"></script>
<!--Main--><script>
(async () => {
	//pico.Image.debug = true;
	pico.Touch.debug = true;

	picoColor([204,204,204, 221,221,221, 238,238,238, 255,255,255]);
	let keyboard = ["1234567890", "QWERTYUIOP", "ASDFGHJKL<", "ZXCVBNM./>"];
	let textarea = "";

	for (;;) {
		picoClear();
		picoPixel(0, -100,-100,200,200);

		for (let j = 0; j < keyboard.length; j++) {
			let y = j * 24;
			for (let i = 0; i < keyboard[j].length; i++) {
				let x = (i - keyboard[j].length / 2) * 16 + 8;
				let char = keyboard[j].substr(i, 1);
				if (picoAction(x, y, 8, 12)) {
					if (char == "<") {
						textarea = textarea.substr(0, textarea.length - 1);
					} else if (char == ">") {
						textarea = "";
					} else {
						textarea = textarea.substr(-9, 9) + char;
					}
					picoChar(char, 1, x, y, 0, 3);
				} else if (picoMotion(x, y, 8, 12)) {
					picoChar(char, 1, x, y, 0, 3);
				} else {
					picoChar(char, 2, x, y, 0, 4);
				}
			}
		}
		picoRect(
			[-20,-24,40,24], 1, 0,0, 0, 1);
		picoText(textarea,
			[-20,-24,40,24], 2, 0,0, 0, 1);

		await picoFlip();
		await picoRead();
	}

})();
</script><!--/Main-->
</body>
</html>
